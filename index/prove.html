<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="select-item">
        <select name="city" id="div-city" style="width: 140px;height: 24px;"
            onchange="onSelectCity(this.options[this.options.selectedIndex].value)">
        </select>
        <select name="county" id="div-conty" style="width: 140px;height: 24px;">
        </select>
    </div>
    <script>
        const gdList = {
            province: "广东省",
            city: [
                {
                    name: "广州市",
                    city_id: "197",
                    county: [
                        "荔湾区",
                        "越秀区",
                        "海珠区",
                        "天河区",
                        "白云区",
                        "黄埔区",
                        "番禺区",
                        "花都区",
                        "南沙区",
                        "从化区",
                        "增城区"
                    ]
                },
                {
                    name: "韶关市",
                    city_id: "198",
                    county: [
                        "武江区",
                        "浈江区",
                        "曲江区",
                        "始兴县",
                        "仁化县",
                        "翁源县",
                        "乳源瑶族自治县",
                        "新丰县",
                        "乐昌市",
                        "南雄市"
                    ]
                },
                {
                    name: "深圳市",
                    city_id: "199",
                    county: [
                        "罗湖区",
                        "福田区",
                        "南山区",
                        "宝安区",
                        "龙岗区",
                        "盐田区",
                        "龙华区",
                        "坪山区"
                    ]
                },
                {
                    name: "珠海市",
                    city_id: "200",
                    county: [
                        "香洲区",
                        "斗门区",
                        "金湾区"
                    ]
                },
                {
                    name: "汕头市",
                    city_id: "201",
                    county: [
                        "龙湖区",
                        "金平区",
                        "濠江区",
                        "潮阳区",
                        "潮南区",
                        "澄海区",
                        "南澳县"
                    ]
                },
                {
                    name: "佛山市",
                    city_id: "202",
                    county: [
                        "禅城区",
                        "南海区",
                        "顺德区",
                        "三水区",
                        "高明区"
                    ]
                },
                {
                    name: "江门市",
                    city_id: "203",
                    county: [
                        "蓬江区",
                        "江海区",
                        "新会区",
                        "台山市",
                        "开平市",
                        "鹤山市",
                        "恩平市"
                    ]
                },
                {
                    name: "湛江市",
                    city_id: "204",
                    county: [
                        "赤坎区",
                        "霞山区",
                        "坡头区",
                        "麻章区",
                        "遂溪县",
                        "徐闻县",
                        "廉江市",
                        "雷州市",
                        "吴川市"
                    ]
                },
                {
                    name: "茂名市",
                    city_id: "205",
                    county: [
                        "茂南区",
                        "电白区",
                        "高州市",
                        "化州市",
                        "信宜市"
                    ]
                },
                {
                    name: "肇庆市",
                    city_id: "206",
                    county: [
                        "端州区",
                        "鼎湖区",
                        "高要区",
                        "广宁县",
                        "怀集县",
                        "封开县",
                        "德庆县",
                        "四会市"
                    ]
                },
                {
                    name: "惠州市",
                    city_id: "207",
                    county: [
                        "惠城区",
                        "惠阳区",
                        "博罗县",
                        "惠东县",
                        "龙门县"
                    ]
                },
                {
                    name: "梅州市",
                    city_id: "208",
                    county: [
                        "梅江区",
                        "梅县区",
                        "大埔县",
                        "丰顺县",
                        "五华县",
                        "平远县",
                        "蕉岭县",
                        "兴宁市"
                    ]
                },
                {
                    name: "汕尾市",
                    city_id: "209",
                    county: [
                        "城区",
                        "海丰县",
                        "陆河县",
                        "陆丰市"
                    ]
                },
                {
                    name: "河源市",
                    city_id: "210",
                    county: [
                        "源城区",
                        "紫金县",
                        "龙川县",
                        "连平县",
                        "和平县",
                        "东源县"
                    ]
                },
                {
                    name: "阳江市",
                    city_id: "211",
                    county: [
                        "江城区",
                        "阳东区",
                        "阳西县",
                        "阳春市"
                    ]
                },
                {
                    name: "清远市",
                    city_id: "212",
                    county: [
                        "清城区",
                        "清新区",
                        "佛冈县",
                        "阳山县",
                        "连山壮族瑶族自治县",
                        "连南瑶族自治县",
                        "英德市",
                        "连州市"
                    ]
                },
                {
                    name: "潮州市",
                    city_id: "215",
                    county: [
                        "湘桥区",
                        "潮安区",
                        "饶平县"
                    ]
                },
                {
                    name: "揭阳市",
                    city_id: "216",
                    county: [
                        "榕城区",
                        "揭东区",
                        "揭西县",
                        "惠来县",
                        "普宁市"
                    ]
                },
                {
                    name: "云浮市",
                    city_id: "217",
                    county: [
                        "云城区",
                        "云安区",
                        "新兴县",
                        "郁南县",
                        "罗定市"
                    ]
                }
            ]
        };

        const cityId = '197';
        window.onload = function () {
            const $city = document.querySelector("#div-city");
            gdList.city.forEach((element, index) => {
                $city.options.add(new Option(element.name, element.city_id));
                if (cityId === element.city_id) {
                    console.log(element);
                    $city.options[index].selected = true;
                    this.onSelectCity(element.city_id);
                }
            });

        }

        const countyName = '白云区'
        function onSelectCity(val) {
            const $conty = document.querySelector("#div-conty");
            $conty.options.length = 0;
            const info = gdList.city.find(p => p.city_id === val);
            console.log(info);
            if (info) {
                info.county.forEach((p, index) => {
                    $conty.options.add(new Option(p, p));
                    if (countyName === p) {
                        $conty.options[index].selected = true;
                    }
                })
            }
        }

    </script>
</body>

</html>